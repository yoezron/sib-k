#--------------------------------------------------------------------
# Example Environment Configuration file
#
# This file can be used as a starting point for your own
# custom .env files, and contains most of the possible settings
# available in a default install.
#
# By default, all of the settings are commented out.
# If you want
# to override the setting, you must un-comment it by removing the '#'
# at the beginning of the line.
#--------------------------------------------------------------------

#--------------------------------------------------------------------
# ENVIRONMENT
#--------------------------------------------------------------------

CI_ENVIRONMENT = development

#--------------------------------------------------------------------
# APLIKASI
#--------------------------------------------------------------------

app.baseURL = 'http://localhost:8080/'
app.appName = 'SIB-K MA Persis 31 Banjaran'
app.indexPage = ''
app.defaultLocale = 'id'
app.appTimezone = 'Asia/Jakarta'
app.forceGlobalSecureRequests = false
app.CSPEnabled = false

#--------------------------------------------------------------------
# DATABASE - UTAMA
#--------------------------------------------------------------------

database.default.hostname = localhost
database.default.database = sibk_mapersis31
database.default.username = root
database.default.password = Behaviorisme90
database.default.DBDriver = MySQLi
database.default.DBPrefix =
database.default.port = 3306
database.default.DBDebug = true
database.default.charset = utf8mb4
database.default.DBCollat = utf8mb4_general_ci

#--------------------------------------------------------------------
# DATABASE - TESTING
#--------------------------------------------------------------------

database.tests.hostname = localhost
database.tests.database = sibk_testing
database.tests.username = root
database.tests.password =
database.tests.DBDriver = MySQLi
database.tests.DBPrefix = test_
database.tests.charset = utf8mb4
database.tests.DBCollat = utf8mb4_general_ci
database.tests.port = 3306

#--------------------------------------------------------------------
# ENKRIPSI
#--------------------------------------------------------------------
# Pastikan untuk mengisi kunci enkripsi Anda (bisa didapat dengan `php spark key:generate`)
encryption.key =
encryption.driver = OpenSSL
encryption.cipher = AES-256-CTR
encryption.blockSize = 16

#--------------------------------------------------------------------
# SESSION
#--------------------------------------------------------------------
session.driver = 'CodeIgniter\Session\Handlers\FileHandler'
session.cookieName = 'sibk_session'
# 7200 = 2 jam, 28800 = 8 jam (jam kerja)
session.expiration = 7200
session.savePath = '{writable}/session'
session.matchIP = false
session.timeToUpdate = 300
session.regenerateDestroy = false

#--------------------------------------------------------------------
# COOKIE
#--------------------------------------------------------------------
cookie.prefix = 'sibk_'
cookie.domain = ''
cookie.path = '/'
cookie.secure = false
cookie.httponly = true
cookie.samesite = 'Lax'

#--------------------------------------------------------------------
# SECURITY
#--------------------------------------------------------------------
security.csrfProtection = 'session'
security.tokenName = 'csrf_token_sibk'
security.headerName = 'X-CSRF-TOKEN'
security.cookieName = 'csrf_cookie_sibk'
security.expires = 7200
security.regenerate = true
security.redirect = true

#--------------------------------------------------------------------
# LOGGER
#--------------------------------------------------------------------
logger.threshold = 9

#--------------------------------------------------------------------
# EMAIL
#--------------------------------------------------------------------
email.protocol = smtp
email.SMTPHost = smtp.gmail.com
email.SMTPUser = sibk@mapersis31.sch.id
email.SMTPPass =
email.SMTPPort = 587
email.SMTPCrypto = tls
email.SMTPTimeout = 5
email.fromEmail = sibk@mapersis31.sch.id
email.fromName = 'SIB-K MA Persis 31'
email.mailType = html
email.charset = UTF-8
email.wordWrap = true

#--------------------------------------------------------------------
# UPLOADS
#--------------------------------------------------------------------
upload.maxSize = 5
upload.allowedTypes = 'jpg|jpeg|png|pdf|doc|docx|xls|xlsx'
upload.studentPhotos = '{writable}/uploads/students/photos/'
upload.documents = '{writable}/uploads/documents/'
upload.assessments = '{writable}/uploads/assessments/'
upload.reports = '{writable}/uploads/reports/'
upload.temp = '{writable}/uploads/temp/'

#--------------------------------------------------------------------
# PAGINATION
#--------------------------------------------------------------------
pagination.perPage = 20

#--------------------------------------------------------------------
# RBAC - ROLE BASED ACCESS CONTROL
#--------------------------------------------------------------------
rbac.defaultStudentRole = 'SISWA'
rbac.defaultParentRole = 'ORANG_TUA'
rbac.timeout.admin = 28800
rbac.timeout.koordinator_bk = 28800
rbac.timeout.guru_bk = 14400
rbac.timeout.wali_kelas = 14400
rbac.timeout.siswa = 7200
rbac.timeout.orang_tua = 7200

#--------------------------------------------------------------------
# BIMBINGAN KONSELING - BUSINESS RULES
#--------------------------------------------------------------------
bk.maxViolationPoints = 100
bk.defaultSessionDuration = 45
bk.maxSessionsPerDay = 8
bk.autoReportGeneration = true
bk.reportPeriod = 'bulanan'

#--------------------------------------------------------------------
# NOTIFICATION
#--------------------------------------------------------------------
notification.email.enabled = true
notification.sms.enabled = false
notification.sms.apiKey =
notification.sms.sender = 'SIBK-MAP31'

#--------------------------------------------------------------------
# THIRD PARTY INTEGRATIONS
#--------------------------------------------------------------------
google.calendar.apiKey =
google.calendar.clientId =
google.calendar.clientSecret =
whatsapp.apiKey =
whatsapp.phoneNumber =

#--------------------------------------------------------------------
# BACKUP & MAINTENANCE
#--------------------------------------------------------------------
backup.enabled = true
backup.schedule = '0 2 * * *'
backup.path = '{writable}/backups/'
backup.retention = 30

#--------------------------------------------------------------------
# DEVELOPMENT TOOLS
#--------------------------------------------------------------------
toolbar.enabled = true
kint.enabled = true
# Atur sesuai environment, hanya salah satu yang aktif
# ini.display_errors = 1 (development)
# ini.display_errors = 0 (production)

#--------------------------------------------------------------------
# API SETTINGS (untuk future mobile app)
#--------------------------------------------------------------------
# Pastikan untuk mengisi secret key untuk JWT Anda
jwt.secret =
jwt.expiration = 3600
api.rateLimit.enabled = true
api.rateLimit.requests = 100
api.rateLimit.period = 60

#--------------------------------------------------------------------
# MONITORING & ANALYTICS
#--------------------------------------------------------------------
analytics.googleId =
monitoring.enabled = true
monitoring.sentry.dsn =

#--------------------------------------------------------------------
# CUSTOM SETTINGS SEKOLAH
#--------------------------------------------------------------------
school.name = 'Madrasah Aliyah Persis 31 Banjaran'
school.address = 'Jl. Raya Banjaran, Kab. Bandung'
school.phone = '022-XXXXXXXX'
school.email = 'info@mapersis31.sch.id'
school.website = 'https://mapersis31.sch.id'
school.logo = 'assets/images/logo-mapersis31.png'
school.activeAcademicYear = '2024/2025'
school.activeSemester = 'GENAP'

#--------------------------------------------------------------------
# FEATURE FLAGS
#--------------------------------------------------------------------
feature.studentPortal = true
feature.parentPortal = true
feature.assessmentModule = true
feature.careerInfo = true
feature.messaging = true
feature.reporting = true
feature.bulkImport = true

#--------------------------------------------------------------------
# PERFORMANCE
#--------------------------------------------------------------------
performance.queryCaching = true
performance.viewCaching = false
performance.minifyAssets = false

#--------------------------------------------------------------------
# AKHIR KONFIGURASI
#--------------------------------------------------------------------